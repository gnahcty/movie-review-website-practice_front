import{Q as V}from"./QTooltip.e4773cee.js";import{Q as j}from"./QImg.744f39c6.js";import{a as y,Q as N}from"./QItemLabel.2b622e28.js";import{aH as R,u as W,m as U,W as m,o as $,p as x,j as t,k as a,t as e,d as i,s as o,aI as E,aJ as F,x as g,F as v,aj as w,v as d,ag as c,ad as H,q,Q as O,ah as z,aL as M,aM as T,ak as X}from"./index.db1df928.js";import{N as A,a as D,S as J}from"./grid.46aa7bea.js";import{C as S}from"./CardStack.bd277d1e.js";import"./position-engine.703e7815.js";import"./use-timeout.74cdd684.js";import"./scroll.b59033f4.js";const n=_=>(M("data-v-45d95f8a"),_=_(),T(),_),G={padding:"",style:{"background-color":"#ffe500"},class:"row justify-center q-pt-xl"},K={class:"col-8"},Y=n(()=>e("div",{class:"titles"},"New Logs",-1)),Z={class:"row items-center w100"},ee=n(()=>e("div",{class:"col-1 relative"},[e("div",{class:"swiper-button-prev",id:"swiper-prev"})],-1)),se={class:"col-10"},te=n(()=>e("div",{class:"col-1 relative"},[e("div",{class:"swiper-button-next",id:"swiper-next"})],-1)),oe=n(()=>e("div",{class:"titles bdb4"},"Lists",-1)),ae={class:"bdb4"},ie={class:"col-12 col-md-4",style:{height:"240px"}},re=["src"],le={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},de={class:"row q-mt-md"},ce={class:"col-12 col-md-6 q-pa-md"},ne={class:"bdb4 flex justify-between items-end"},_e=n(()=>e("span",{class:"titles"},"Watchlist",-1)),pe={class:"text-h6 q-mb-lg"},me=["src"],ue={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},he={class:"col-12 col-md-6 q-pa-md"},fe={class:"bdb4 flex justify-between items-end"},ge=n(()=>e("span",{class:"titles"},"Following",-1)),ve={class:"text-h6 q-mb-lg"},we={class:"q-pt-md row q-gutter-md"},be=["src"],ke={__name:"UserProfile",setup(_){const B=W(),C=U(),u=m({}),p=m([]),h=m([]),f=m([]),L={slidesPerView:1,spaceBetween:10,loop:!0,navigation:{prevEl:"#swiper-prev",nextEl:"#swiper-next"},modules:[A],breakpoints:{768:{slidesPerView:2,spaceBetween:20},1128:{slidesPerView:3,spaceBetween:20},1620:{slidesPerView:4,spaceBetween:20}}},P=async r=>{await X.post("/lists/like",{id:r}),b()},b=async()=>{const{data:r}=await H.get("/profile/recent/"+C.params.username);Object.assign(u,r.result.profile),p.splice(0,p.length,...r.result.watchlist),h.splice(0,h.length,...r.result.userReviews),f.splice(0,f.length,...r.result.userLists)};return $(()=>{b()}),(r,ye)=>{var k;const Q=x("RouterLink"),I=x("router-link");return t(),a("div",G,[e("div",K,[Y,e("div",Z,[ee,e("div",se,[i(g(J),E(F(L)),{default:o(()=>[(t(!0),a(v,null,w(h,s=>(t(),q(g(D),{key:s._id},{default:o(()=>[i(Q,{to:"/films/"+s.film},{default:o(()=>[i(j,{src:`http://image.tmdb.org/t/p/w300/${s.poster}`,style:{"box-sizing":"border-box"},class:"rounded15 border5 ratio w100"},{default:o(()=>[i(V,{anchor:"center middle",self:"top middle"},{default:o(()=>[d(c(s.title),1)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},16)]),te]),oe,e("div",ae,[(t(!0),a(v,null,w(f,s=>(t(),a("div",{key:s._id,class:"row q-py-md"},[e("div",ie,[i(S,{cards:s.films,cardWidth:137,stackWidth:"100%",cardHeight:200,maxCards:5,paddingX:10},{card:o(({card:l})=>[l.poster?(t(),a("img",{key:0,src:`http://image.tmdb.org/t/p/w300/${l.poster}`,class:"h100 rounded15 border5"},null,8,re)):(t(),a("div",le))]),_:2},1032,["cards"])]),i(N,{class:"col-12 col-md-8 justify-around q-pl-md-md"},{default:o(()=>[i(y,{lines:"2",class:"title3 text-bold"},{default:o(()=>[d(c(s.name),1)]),_:2},1024),i(y,{lines:"1",class:"flex items-center"},{default:o(()=>{var l;return[d(c((l=s.films)==null?void 0:l.length)+" films ",1),i(O,{flat:"",round:"",icon:"favorite",color:s.likes.indexOf(g(B)._id)>-1?"red":"black",onClick:xe=>P(s._id)},null,8,["color","onClick"]),d(" "+c(s.likes.length),1)]}),_:2},1024)]),_:2},1024)]))),128))]),e("div",de,[e("div",ce,[e("div",ne,[_e,d(),e("span",pe,c(p.length),1)]),i(S,{cards:p,stackWidth:"100%",cardWidth:137,cardHeight:200,paddingX:20,maxCards:8},{card:o(({card:s})=>[s.poster?(t(),a("img",{key:0,src:`http://image.tmdb.org/t/p/w300/${s.poster}`,class:"h100 rounded15 border5"},null,8,me)):(t(),a("div",ue))]),_:1},8,["cards"])]),e("div",he,[e("div",fe,[ge,d(),e("span",ve,c((k=u.following)==null?void 0:k.length),1)]),e("div",we,[(t(!0),a(v,null,w(u.following,(s,l)=>(t(),a("div",{key:s,class:"col-2"},[l<10?(t(),q(I,{key:0,to:"/profile/_id/recent"},{default:o(()=>[e("img",{class:"round w100",src:s.avatar},null,8,be)]),_:2},1024)):z("",!0)]))),128))])])])])])}}};var je=R(ke,[["__scopeId","data-v-45d95f8a"]]);export{je as default};
