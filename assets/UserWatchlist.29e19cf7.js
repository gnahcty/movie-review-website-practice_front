import{Q as b}from"./QTooltip.e1859b02.js";import{Q as g}from"./QImg.c521133c.js";import{b as V,Q as q,c as w,a as k}from"./QTabPanels.60b0bf75.js";import{u as U,m as T,r as j,o as B,q as N,j as o,k as l,v as s,d as t,t as a,ap as C,F as u,ao as p,x as f,am as n,y as h,s as y,ai as S}from"./index.0dc9be6b.js";import"./position-engine.dcd3c880.js";import"./use-timeout.b9c8c8b8.js";import"./scroll.2583b80e.js";import"./uid.42677368.js";import"./QResizeObserver.c4c5ce48.js";import"./rtl.b51694b1.js";import"./use-panel.58daeb3b.js";import"./use-dark.7513bcde.js";const F={padding:"",class:"row justify-center q-pt-xl"},I={class:"col-12 col-md-8 row"},P={class:"col-12 col-md-8 q-px-md"},R=s("div",{class:"titles"},"Watchlist",-1),W=s("div",{class:"q-mb-md"},"Your films to be watched. ",-1),A={class:"row q-col-gutter-md"},D={class:"titles"},E={class:"q-mb-md flex justify-between"},G={class:"row q-col-gutter-md"},M={class:"col-12 col-md-4 q-pa-xl"},oe={__name:"UserWatchlist",setup(Y){const L=U(),r=T(),d=j("watchlist"),x=async()=>{try{const{data:c}=await C.get("lists/user");r.userLists&&(r.userLists=c.UserLists)}catch(c){console.log(c)}};return B(async()=>{await x(),L.isLoading=!1}),(c,m)=>{const v=N("RouterLink");return o(),l("div",F,[s("div",I,[s("div",P,[t(V,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=e=>d.value=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:a(()=>[t(w,{name:"watchlist"},{default:a(()=>[R,W,s("div",A,[(o(!0),l(u,null,p(h(r).watchList,(e,i)=>(o(),l("div",{class:"col-6 col-md-4 col-lg-3",key:i},[t(v,{to:"/films/"+e.id},{default:a(()=>[t(g,{ratio:3/4,src:"https://image.tmdb.org/t/p/w300/"+e.poster,class:"rounded15 border5"},{default:a(()=>[t(b,{anchor:"center middle",self:"top middle"},{default:a(()=>[f(n(e.title),1)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]))),128))])]),_:1}),(o(!0),l(u,null,p(h(r).userLists,(e,i)=>(o(),y(w,{key:i,name:e.name},{default:a(()=>[s("div",D,n(e.name),1),s("div",E,[s("span",null,n(e.description||"No description"),1),s("span",null,[t(S,{name:"favorite"}),f(" "+n(e.likes.length),1)])]),s("div",G,[(o(!0),l(u,null,p(e.films,(_,Q)=>(o(),l("div",{class:"col-6 col-md-4 col-lg-3",key:Q},[t(v,{to:"/films/"+_.id},{default:a(()=>[t(g,{ratio:3/4,src:"https://image.tmdb.org/t/p/w300/"+_.poster,class:"rounded15 border5"},{default:a(()=>[t(b,{anchor:"center middle",self:"top middle"},{default:a(()=>[f(n(_.title),1)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),s("div",M,[t(q,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=e=>d.value=e),vertical:""},{default:a(()=>[t(k,{name:"watchlist",label:"watchlist"}),(o(!0),l(u,null,p(h(r).userLists,(e,i)=>(o(),y(k,{key:i,name:e.name,label:e.name},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])])])}}};export{oe as default};
