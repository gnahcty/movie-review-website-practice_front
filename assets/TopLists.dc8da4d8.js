import{u as b,p as w,j as n,k as d,t as s,d as a,s as o,F as C,aj as O,q as $,x as m,v as W,ag as k,Q as B,aI as T,aJ as P,ak as I,aH as N,W as f,o as V,ad as y,aL as j,aM as H}from"./index.9f63ecff.js";import{Q,a as x}from"./QItemLabel.2edab33d.js";import{N as q,a as X,S as A}from"./grid.6555a26e.js";import{C as E}from"./CardStack.67f521e6.js";import{u as R}from"./checkLogin.9dfc3688.js";import"./use-quasar.c7a7117e.js";const F={class:"row items-center h100 w100"},M=s("div",{class:"col-1 relative"},[s("div",{class:"swiper-button-prev swiper-prev",id:"swiper-prev",style:{top:"auto !important"}})],-1),U={class:"col-10"},z={class:"col-8"},D=["src"],J={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},K={class:"col-auto"},G=["src"],Y={class:"text-h6 q-pl-md"},Z={class:"col flex justify-end items-center"},ss=s("div",{class:"col-1 relative"},[s("div",{class:"swiper-button-next swiper-next",id:"swiper-next",style:{top:"auto !important"}})],-1),S={__name:"ListSwiper",props:{list:{type:Array,default:()=>[]},swiperOptions:{type:Object,default:()=>({slidesPerView:1,spaceBetween:10,loop:!0,navigation:{prevEl:".swiper-prev",nextEl:".swiper-next"},modules:[q],breakpoints:{768:{slidesPerView:2,spaceBetween:20},1128:{slidesPerView:3,spaceBetween:20},1620:{slidesPerView:3,spaceBetween:30}}})},cardStackOptions:{type:Object,default:()=>({cardWidth:233,stackWidth:"100%",cardHeight:345,maxCards:4,paddingX:10})}},emits:["like"],setup(i,{emit:h}){const t=i,{loginTryCatch:r}=R(),p=b(),_=async l=>{await I.post("/lists/like",{id:l}),h("like")};return(l,c)=>{const u=w("RouterLink"),v=w("router-link");return n(),d("div",F,[M,s("div",U,[a(m(A),T(P(t.swiperOptions)),{default:o(()=>[(n(!0),d(C,null,O(t.list,e=>(n(),$(m(X),{key:e._id,class:"column"},{default:o(()=>[s("div",z,[a(u,{to:`/list/${e._id}`},{default:o(()=>[a(E,{cards:e.films,cardWidth:t.cardStackOptions.cardWidth,stackWidth:t.cardStackOptions.stackWidth,cardHeight:t.cardStackOptions.cardHeight,maxCards:t.cardStackOptions.maxCards,paddingX:t.cardStackOptions.paddingX},{card:o(({card:g})=>[g.poster?(n(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w300/${g.poster}`,class:"h100 rounded15 border5"},null,8,D)):(n(),d("div",J))]),_:2},1032,["cards","cardWidth","stackWidth","cardHeight","maxCards","paddingX"])]),_:2},1032,["to"])]),a(Q,{class:"col-4 justify-around q-pl-md-md"},{default:o(()=>[a(x,{lines:"2",class:"title3 lilita"},{default:o(()=>[W(k(e.name),1)]),_:2},1024),a(x,{lines:"1",class:"row q-px-md"},{default:o(()=>[s("span",K,[a(v,{to:`/profile/${e.user.username}/recent`,class:"flex items-center"},{default:o(()=>[s("img",{src:e.user.avatar,class:"round",style:{width:"50px"}},null,8,G),s("span",Y,k(e.user.username),1)]),_:2},1032,["to"])]),s("span",Z,[a(B,{flat:"",round:"",icon:"favorite",color:e.likes.indexOf(m(p)._id)>-1?"red":"black",onClick:g=>m(r)(()=>_(e._id))},null,8,["color","onClick"]),s("span",null,k(e.likes.length),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},16)]),ss])}}};const L=i=>(j("data-v-593887ba"),i=i(),H(),i),es={class:"section"},ts={class:"column"},as=L(()=>s("div",{class:"listTitles col-auto"},"Popular This Week",-1)),os={class:"section"},is={class:"column"},cs=L(()=>s("div",{class:"listTitles"},"Newly Added",-1)),ns={__name:"TopLists",setup(i){const h={licenseKey:"gplv3-license"},t=f([]),r=f([]),p=async()=>{const{data:c}=await y.get("/lists/pop");t.splice(0,t.length,...c.results)},_=async()=>{const{data:c}=await y.get("/lists/new");r.splice(0,r.length,...c.results)},l=()=>{p(),_()};return V(()=>{p(),_()}),(c,u)=>{const v=w("full-page");return n(),d("div",null,[a(v,{ref:"fullpage",options:h,id:"fullpage"},{default:o(()=>[s("div",es,[s("div",ts,[as,a(S,{list:t,onLike:l,class:"col"},null,8,["list"])])]),s("div",os,[s("div",is,[cs,a(S,{list:r,onLike:u[0]||(u[0]=e=>c.loginTryCatch(()=>{l(e)})),class:"col"},null,8,["list"])])])]),_:1},512)])}}};var ms=N(ns,[["__scopeId","data-v-593887ba"]]);export{ms as default};
