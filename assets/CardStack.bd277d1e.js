import{aH as v,W,r as m,w as _,c as h,o as w,j as f,k as y,t as b,F as C,aj as N,y as k,l as $,A as z}from"./index.db1df928.js";const S=(r,t,e)=>{let a;return function(){const c=this,i=arguments,o=function(){a=null,e||r.apply(c,i)},u=e&&!a;clearTimeout(a),a=setTimeout(o,t),u&&r.apply(c,i)}};const X={__name:"CardStack",props:{cards:{type:Array,default:()=>[]},cardWidth:{type:Number,default:()=>300},cardHeight:{type:Number,default:()=>400},stackWidth:{type:[Number,String],default:()=>null},maxCards:{type:Number,default:()=>10},paddingX:{type:Number,default:()=>20},paddingY:{type:Number,default:()=>20}},setup(r){const t=r,e=W([]),a=m(null),l=m(0),c=_(()=>t.cards.length,(d,n)=>{n===0&&(i(),c(),p())});function i(){e.splice(0,e.length-1,...Array.from({length:t.maxCards},(d,n)=>({...t.cards[n]||{},display:n<t.maxCards?"block":"none",xPos:t.paddingX+g.value*n,yPos:t.paddingY,width:t.cardWidth,height:t.cardHeight,zIndex:t.maxCards-n})).reverse())}const o=h(()=>{if(t.stackWidth){if(typeof t.stackWidth=="number")return`${t.stackWidth}px`}else return`${t.cardWidth+t.paddingX*2}px`;return t.stackWidth}),u=h(()=>{if(t.stackWidth){if(typeof t.stackWidth=="number")return t.stackWidth}else return t.cardWidth+t.paddingX*2;return l.value||a.value.clientWidth}),g=h(()=>(u.value-t.paddingX*2-t.cardWidth)/(t.maxCards-1)),p=S(()=>{l.value=a.value.clientWidth,z(()=>{for(const d in e)e[d].xPos=t.paddingX+g.value*d})},250);return w(async()=>{t.cards.length>0&&(c(),i()),window.addEventListener("resize",p),t.cards.length>0&&p()}),(d,n)=>(f(),y("div",{class:"stack_wrapper",ref_key:"containerRef",ref:a},[b("div",{class:"stack_stack",style:k({height:`${r.cardHeight+r.paddingY*2}px`,width:o.value})},[(f(!0),y(C,null,N(e,(s,x)=>(f(),y("div",{class:"stack_card",key:x,style:k({display:s.display,top:`${s.yPos}px`,width:`${s.width}px`,height:`${s.height}px`,zIndex:s.zIndex,transform:`translate(${s.xPos}px, 0)`})},[$(d.$slots,"card",{card:s},void 0,!0)],4))),128))],4)],512))}};var H=v(X,[["__scopeId","data-v-f85d8ee0"]]);export{H as C};
