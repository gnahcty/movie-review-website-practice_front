import{Q as V}from"./QTooltip.716e2858.js";import{Q as I}from"./QImg.d43046c0.js";import{a as y,Q as j}from"./QItemLabel.82bc36a1.js";import{_ as R,m as U,n as W,a0 as m,o as E,q as x,j as t,k as a,v as e,d as i,t as o,aM as $,aN as F,y as g,F as v,ao as w,x as c,al as d,ai as O,s as q,Q as z,am as D,D as H,E as M,ap as T}from"./index.c177bf21.js";import{N as X,a as A,S as G}from"./grid.13610477.js";import{C as S}from"./CardStack.04a32ce4.js";import"./position-engine.620ffbf1.js";import"./use-timeout.ced4c499.js";import"./scroll.53b15280.js";const n=_=>(H("data-v-c5ff79ea"),_=_(),M(),_),J={padding:"",style:{"background-color":"#ffe500"},class:"row justify-center q-pt-xl"},K={class:"col-8"},Y=n(()=>e("div",{class:"titles"},"New Logs",-1)),Z={class:"row items-center w100"},ee=n(()=>e("div",{class:"col-1 relative"},[e("div",{class:"swiper-button-prev",id:"swiper-prev"})],-1)),se={class:"col-10"},te=n(()=>e("div",{class:"col-1 relative"},[e("div",{class:"swiper-button-next",id:"swiper-next"})],-1)),oe=n(()=>e("div",{class:"titles bdb4"},"Lists",-1)),ae={class:"bdb4"},ie={class:"col-12 col-md-4",style:{height:"240px"}},re=["src"],le={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},ce={class:"row q-mt-md"},de={class:"col-12 col-md-6 q-pa-md"},ne={class:"bdb4 flex justify-between items-end"},_e=n(()=>e("span",{class:"titles"},"Watchlist",-1)),pe={class:"text-h6 q-mb-lg"},me=["src"],ue={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},he={class:"col-12 col-md-6 q-pa-md"},fe={class:"bdb4 flex justify-between items-end"},ge=n(()=>e("span",{class:"titles"},"Following",-1)),ve={class:"text-h6 q-mb-lg"},we={class:"q-pt-md row q-gutter-md"},be=["src"],ke={__name:"UserProfile",setup(_){const B=U(),C=W(),u=m({}),p=m([]),h=m([]),f=m([]),P={slidesPerView:1,spaceBetween:10,loop:!0,navigation:{prevEl:"#swiper-prev",nextEl:"#swiper-next"},modules:[X],breakpoints:{768:{slidesPerView:2,spaceBetween:20},1128:{slidesPerView:3,spaceBetween:20},1620:{slidesPerView:4,spaceBetween:20}}},Q=async r=>{await T.post("/lists/like",{id:r}),b()},b=async()=>{const{data:r}=await O.get("/profile/recent/"+C.params.username);Object.assign(u,r.result.profile),p.splice(0,p.length,...r.result.watchlist),h.splice(0,h.length,...r.result.userReviews),f.splice(0,f.length,...r.result.userLists)};return E(()=>{b()}),(r,ye)=>{var k;const L=x("RouterLink"),N=x("router-link");return t(),a("div",J,[e("div",K,[Y,e("div",Z,[ee,e("div",se,[i(g(G),$(F(P)),{default:o(()=>[(t(!0),a(v,null,w(h,s=>(t(),q(g(A),{key:s._id},{default:o(()=>[i(L,{to:"/films/"+s.film},{default:o(()=>[i(I,{src:`https://image.tmdb.org/t/p/w300/${s.poster}`,style:{"box-sizing":"border-box"},class:"rounded15 border5 ratio w100"},{default:o(()=>[i(V,{anchor:"center middle",self:"top middle"},{default:o(()=>[c(d(s.title),1)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},16)]),te]),oe,e("div",ae,[(t(!0),a(v,null,w(f,s=>(t(),a("div",{key:s._id,class:"row q-py-md"},[e("div",ie,[i(S,{cards:s.films,cardWidth:137,stackWidth:"100%",cardHeight:200,maxCards:5,paddingX:10},{card:o(({card:l})=>[l.poster?(t(),a("img",{key:0,src:`https://image.tmdb.org/t/p/w300/${l.poster}`,class:"h100 rounded15 border5"},null,8,re)):(t(),a("div",le))]),_:2},1032,["cards"])]),i(j,{class:"col-12 col-md-8 justify-around q-pl-md-md"},{default:o(()=>[i(y,{lines:"2",class:"title3 text-bold"},{default:o(()=>[c(d(s.name),1)]),_:2},1024),i(y,{lines:"1",class:"flex items-center"},{default:o(()=>{var l;return[c(d((l=s.films)==null?void 0:l.length)+" films ",1),i(z,{flat:"",round:"",icon:"favorite",color:s.likes.indexOf(g(B)._id)>-1?"red":"black",onClick:xe=>Q(s._id)},null,8,["color","onClick"]),c(" "+d(s.likes.length),1)]}),_:2},1024)]),_:2},1024)]))),128))]),e("div",ce,[e("div",de,[e("div",ne,[_e,c(),e("span",pe,d(p.length),1)]),i(S,{cards:p,stackWidth:"100%",cardWidth:137,cardHeight:200,paddingX:20,maxCards:8},{card:o(({card:s})=>[s.poster?(t(),a("img",{key:0,src:`https://image.tmdb.org/t/p/w300/${s.poster}`,class:"h100 rounded15 border5"},null,8,me)):(t(),a("div",ue))]),_:1},8,["cards"])]),e("div",he,[e("div",fe,[ge,c(),e("span",ve,d((k=u.following)==null?void 0:k.length),1)]),e("div",we,[(t(!0),a(v,null,w(u.following,(s,l)=>(t(),a("div",{key:s,class:"col-2"},[l<10?(t(),q(N,{key:0,to:"/profile/_id/recent"},{default:o(()=>[e("img",{class:"round w100",src:s.avatar},null,8,be)]),_:2},1024)):D("",!0)]))),128))])])])])])}}};var Ie=R(ke,[["__scopeId","data-v-c5ff79ea"]]);export{Ie as default};
