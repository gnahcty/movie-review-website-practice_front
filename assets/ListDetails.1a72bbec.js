import{u as y,m as q,n as j,Z as C,o as B,q as L,j as l,k as i,v as s,ai as o,F as N,al as V,d as c,t as h,y as g,Q as D,x as S,aj as $,af as F,am as O}from"./index.41ebcf44.js";import{u as Q}from"./checkLogin.3872f0d9.js";import"./use-quasar.66b5834f.js";const T={padding:"",class:"row justify-center q-pt-xl"},U={class:"col-12 col-md-10 col-lg-8 row"},A={class:"col-12 col-md-8 q-px-md"},E={class:"titles bdb4"},G={class:"row"},M=["src"],R={class:"col-12 col-md-4 q-pa-xl"},Z={class:"row w100 justify-start items-center"},z={class:"col-5"},H=["src"],I={class:"col-auto title3 q-ml-sm text-bold text-center"},J={class:"q-my-md q-pl-lg q-pb-md flex w100 justify-between items-center bdb4"},K={class:"text-h6"},P={key:0,class:"q-pa-lg text-h5 text-bold"},ts={__name:"ListDetails",setup(W){const v=y(),x=q(),{loginTryCatch:w}=Q(),k=j(),t=C({}),n=async()=>{const{data:a}=await F.get(`lists/${k.params.id}`);Object.assign(t,a.results)},b=async a=>{await O.post("lists/like",{id:a}),n()};return B(async()=>{await n(),v.isLoading=!1}),(a,r)=>{var _,u,m,p,f;const d=L("router-link");return l(),i("div",T,[s("div",U,[s("div",A,[s("div",E,o(t.name),1),s("div",G,[(l(!0),i(N,null,V(t.films,e=>(l(),i("div",{class:"col-6 col-md-4 col-lg-3 q-pa-md flex flex-center",key:e.id},[c(d,{to:"/films/"+e.id},{default:h(()=>[s("img",{src:"https://image.tmdb.org/t/p/w300/"+e.poster,class:"w100 rounded15 border5"},null,8,M)]),_:2},1032,["to"])]))),128))])]),s("div",R,[s("div",Z,[s("div",z,[c(d,{to:`/profile/${(_=t.user)==null?void 0:_.username}/recent`},{default:h(()=>{var e;return[s("img",{src:(e=t.user)==null?void 0:e.avatar,class:"w100"},null,8,H)]}),_:1},8,["to"])]),s("div",I,o((u=t.user)==null?void 0:u.username),1)]),s("div",J,[s("span",K,o((m=t.films)==null?void 0:m.length)+" films",1),s("span",null,[c(D,{flat:"",round:"",icon:"favorite",onClick:r[0]||(r[0]=e=>g(w)(()=>b(t._id))),color:((p=t.likes)==null?void 0:p.indexOf(g(x)._id))===-1?"black":"red"},null,8,["color"]),S(" "+o((f=t.likes)==null?void 0:f.length),1)])]),t.description?(l(),i("div",P,o(t.description),1)):$("",!0)])])])}}};export{ts as default};
