import{z as R,aC as P,aD as D,c as p,w as I,aH as V,u as q,m as j,W as B,r as N,o as U,p as h,j as w,q as g,s,y as A,ad as F,d as t,Q as y,t as e,v as H,ag as i,x as M,ah as z,ak as O,aL as E,aM as W}from"./index.db1df928.js";import{Q as G}from"./QToolbar.9284cd96.js";import{Q as J,a as K,b as X}from"./QLayout.5d02d6d6.js";import{Q as Y,_ as Z,a as ee,b as te}from"./SideBar.0d55442a.js";import{Q as x,a as k}from"./QItemLabel.2b622e28.js";import{Q as oe}from"./QItem.0ad2f4d4.js";import{u as se,d as ae,e as le,Q as re}from"./QTabPanels.58892df9.js";import"./QResizeObserver.5be149a3.js";import"./scroll.b59033f4.js";import"./use-dark.9a7c073f.js";import"./format.a33550d6.js";import"./QList.2fb3899a.js";import"./use-timeout.74cdd684.js";import"./use-panel.f321d9cd.js";import"./QInput.804e46af.js";import"./use-key-composition.d7c95a6d.js";import"./uid.42677368.js";import"./use-form.79d1835f.js";import"./QCard.a6e2cc57.js";import"./use-quasar.b9d28179.js";import"./rtl.b51694b1.js";var Q=R({name:"QRouteTab",props:{...P,...se},emits:ae,setup(a,{slots:n,emit:u}){const o=D({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:_}=le(a,n,u,{exact:p(()=>a.exact),...o});return I(()=>`${a.name} | ${a.exact} | ${(o.resolvedLink.value||{}).href}`,()=>{_.verifyRouteModel()}),()=>l(o.linkTag.value,o.linkAttrs.value)}});const m=a=>(E("data-v-ba1a4d08"),a=a(),W(),a),ne={class:"row col-8 justify-center"},ce={class:"col-md-8 col-12 row items-center",id:"profile"},ie={class:"col-12 col-sm-6"},ue=["src"],de={class:"col-12 col-sm-6 row q-xs-pb-lg"},me={class:"col column text-center"},_e={class:"text-bold text-h6"},pe=m(()=>e("span",null,"films",-1)),fe={class:"col column text-center"},ve={class:"text-bold text-h6"},be=m(()=>e("span",null,"reviews",-1)),he={class:"col column text-center"},we={class:"text-bold text-h6"},ge=m(()=>e("span",null,"followers",-1)),ye={class:"col column text-center"},xe={class:"text-bold text-h6"},ke=m(()=>e("span",null,"following",-1)),Qe={class:"col row justify-center"},Le={class:"col-md-8 col-12 row items-center"},Se={__name:"ProfileLayout",setup(a){const n=q(),u=j(),o=B({}),l=N(!1),_=()=>{l.value=!l.value},L=p(()=>`background-color: ${u.meta.bg}`),S=[{to:"/",label:"Home",icon:"home"},{to:"/lists",label:"Lists",icon:"format_list_bulleted"},{to:"/users",label:"Popular User",icon:"fa-solid fa-ranking-star"},{to:"/films",label:"Films",icon:"fa-solid fa-film"},{to:"/watchlist",label:"watchlist",icon:"more_time"},{to:`/profile/${n.username}/likes`,label:"Likes",icon:"favorite"},{to:"/settings",label:"Settings",icon:"settings"}],f=p(()=>{var c;return(c=o.followers)==null?void 0:c.some(r=>r._id===n._id)}),T=async()=>{await O.post("users/follow",{username:o.username}),v()},v=async()=>{const{data:c}=await F.get("/profile/recent/"+u.params.username);Object.assign(o,c.result.profile)};return U(()=>{v()}),(c,r)=>{const $=h("router-link"),C=h("router-view");return w(),g(J,{view:"lhh lpR fFf",style:A(L.value)},{default:s(()=>[t(K,{class:"column text-black",id:"header",style:{background:"transparent"}},{default:s(()=>[t(G,{class:"col-2"},{default:s(()=>[t(y,{dense:"",flat:"",round:"",icon:"menu",onClick:_})]),_:1})]),_:1}),t(ee,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d),side:"left",overlay:"",behavior:"mobile"},{default:s(()=>[t(Y,{class:"fit"},{default:s(()=>[t(Z,{menuList:S})]),_:1})]),_:1},8,["modelValue"]),t(X,null,{default:s(()=>{var d,b;return[e("div",ne,[e("div",ce,[e("div",ie,[t(oe,{class:"row"},{default:s(()=>[t(x,{avatar:"",class:"col-5"},{default:s(()=>[t($,{to:`/profile/${o.username}/recent`},{default:s(()=>[e("img",{class:"round q-pa-lg",style:{width:"100%"},src:o.avatar},null,8,ue)]),_:1},8,["to"])]),_:1}),t(x,null,{default:s(()=>[t(k,{style:{"font-weight":"800"},class:"title2 text-bold"},{default:s(()=>[H(i(o.username),1)]),_:1}),M(n).username!==o.username?(w(),g(k,{key:0,style:{"margin-top":"10px !important"}},{default:s(()=>[t(y,{unelevated:"",class:"text-black",label:f.value?"followed":"follow",color:f.value?"light-green-14":"white",onClick:r[1]||(r[1]=Te=>T())},null,8,["label","color"])]),_:1})):z("",!0)]),_:1})]),_:1})]),e("div",de,[e("div",me,[e("span",_e,i(o.watched),1),pe]),e("div",fe,[e("span",ve,i(o.reviewed),1),be]),e("div",he,[e("span",we,i((d=o.followers)==null?void 0:d.length),1),ge]),e("div",ye,[e("span",xe,i((b=o.following)==null?void 0:b.length),1),ke])])])]),e("div",Qe,[e("div",Le,[t(re,{align:"left","indicator-color":"transparent",class:"q-mt-md col-2 row window-width"},{default:s(()=>[t(Q,{to:"recent",label:"recent",class:"col-sm col-md-3 q-py-sm",style:{"background-color":"#ffe500",opacity:"1"}}),t(Q,{to:"likes",label:"favorites",class:"col-sm col-md-3 q-py-sm",style:{"background-color":"#00e0ff",opacity:"1"}})]),_:1})])]),t(C)]}),_:1}),t(te)]),_:1},8,["style"])}}};var Je=V(Se,[["__scopeId","data-v-ba1a4d08"]]);export{Je as default};
