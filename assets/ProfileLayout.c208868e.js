import{G as C,aH as I,aI as P,c as p,w as D,_ as V,m as q,n as j,a0 as B,r as N,o as U,q as h,j as w,s as g,t as s,z as A,ai as F,d as t,Q as y,v as e,x as H,al as i,y as z,am as E,ap as M,D as O,E as G}from"./index.1303ad91.js";import{Q as J}from"./QToolbar.23cb0422.js";import{Q as K,a as W,b as X}from"./QLayout.4382b793.js";import{Q as Y,_ as Z,a as ee,b as te}from"./SideBar.d238ecc5.js";import{Q as x,a as k}from"./QItemLabel.d1786817.js";import{Q as oe}from"./QItem.0453379e.js";import{u as se,d as ae,e as le,Q as re}from"./QTabPanels.de26b24a.js";import"./QResizeObserver.bb8a6496.js";import"./scroll.f7d52236.js";import"./use-dark.a3cf7cb5.js";import"./format.a33550d6.js";import"./QList.f21b4e9a.js";import"./use-timeout.376a7fd6.js";import"./use-panel.eb4041f5.js";import"./QInput.b13c7ebc.js";import"./use-key-composition.44009740.js";import"./uid.42677368.js";import"./use-form.ac36ee38.js";import"./QCard.548c3c73.js";import"./use-quasar.3a3ffa6b.js";import"./rtl.b51694b1.js";var Q=C({name:"QRouteTab",props:{...I,...se},emits:ae,setup(a,{slots:n,emit:u}){const o=P({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:_}=le(a,n,u,{exact:p(()=>a.exact),...o});return D(()=>`${a.name} | ${a.exact} | ${(o.resolvedLink.value||{}).href}`,()=>{_.verifyRouteModel()}),()=>l(o.linkTag.value,o.linkAttrs.value)}});const m=a=>(O("data-v-ba1a4d08"),a=a(),G(),a),ne={class:"row col-8 justify-center"},ce={class:"col-md-8 col-12 row items-center",id:"profile"},ie={class:"col-12 col-sm-6"},ue=["src"],de={class:"col-12 col-sm-6 row q-xs-pb-lg"},me={class:"col column text-center"},_e={class:"text-bold text-h6"},pe=m(()=>e("span",null,"films",-1)),fe={class:"col column text-center"},ve={class:"text-bold text-h6"},be=m(()=>e("span",null,"reviews",-1)),he={class:"col column text-center"},we={class:"text-bold text-h6"},ge=m(()=>e("span",null,"followers",-1)),ye={class:"col column text-center"},xe={class:"text-bold text-h6"},ke=m(()=>e("span",null,"following",-1)),Qe={class:"col row justify-center"},Le={class:"col-md-8 col-12 row items-center"},Se={__name:"ProfileLayout",setup(a){const n=q(),u=j(),o=B({}),l=N(!1),_=()=>{l.value=!l.value},L=p(()=>`background-color: ${u.meta.bg}`),S=[{to:"/",label:"Home",icon:"home"},{to:"/lists",label:"Lists",icon:"format_list_bulleted"},{to:"/users",label:"Popular User",icon:"fa-solid fa-ranking-star"},{to:"/films",label:"Films",icon:"fa-solid fa-film"},{to:"/watchlist",label:"watchlist",icon:"more_time"},{to:`/profile/${n.username}/likes`,label:"Likes",icon:"favorite"},{to:"/settings",label:"Settings",icon:"settings"}],f=p(()=>{var c;return(c=o.followers)==null?void 0:c.some(r=>r._id===n._id)}),T=async()=>{await M.post("users/follow",{username:o.username}),v()},v=async()=>{const{data:c}=await F.get("/profile/recent/"+u.params.username);Object.assign(o,c.result.profile)};return U(()=>{v()}),(c,r)=>{const $=h("router-link"),R=h("router-view");return w(),g(K,{view:"lhh lpR fFf",style:A(L.value)},{default:s(()=>[t(W,{class:"column text-black",id:"header",style:{background:"transparent"}},{default:s(()=>[t(J,{class:"col-2"},{default:s(()=>[t(y,{dense:"",flat:"",round:"",icon:"menu",onClick:_})]),_:1})]),_:1}),t(ee,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d),side:"left",overlay:"",behavior:"mobile"},{default:s(()=>[t(Y,{class:"fit"},{default:s(()=>[t(Z,{menuList:S})]),_:1})]),_:1},8,["modelValue"]),t(X,null,{default:s(()=>{var d,b;return[e("div",ne,[e("div",ce,[e("div",ie,[t(oe,{class:"row"},{default:s(()=>[t(x,{avatar:"",class:"col-5"},{default:s(()=>[t($,{to:`/profile/${o.username}/recent`},{default:s(()=>[e("img",{class:"round q-pa-lg",style:{width:"100%"},src:o.avatar},null,8,ue)]),_:1},8,["to"])]),_:1}),t(x,null,{default:s(()=>[t(k,{style:{"font-weight":"800"},class:"title2 text-bold"},{default:s(()=>[H(i(o.username),1)]),_:1}),z(n).username!==o.username?(w(),g(k,{key:0,style:{"margin-top":"10px !important"}},{default:s(()=>[t(y,{unelevated:"",class:"text-black",label:f.value?"followed":"follow",color:f.value?"light-green-14":"white",onClick:r[1]||(r[1]=Te=>T())},null,8,["label","color"])]),_:1})):E("",!0)]),_:1})]),_:1})]),e("div",de,[e("div",me,[e("span",_e,i(o.watched),1),pe]),e("div",fe,[e("span",ve,i(o.reviewed),1),be]),e("div",he,[e("span",we,i((d=o.followers)==null?void 0:d.length),1),ge]),e("div",ye,[e("span",xe,i((b=o.following)==null?void 0:b.length),1),ke])])])]),e("div",Qe,[e("div",Le,[t(re,{align:"left","indicator-color":"transparent",class:"q-mt-md col-2 row window-width"},{default:s(()=>[t(Q,{to:"recent",label:"recent",class:"col-sm col-md-3 q-py-sm",style:{"background-color":"#ffe500",opacity:"1"}}),t(Q,{to:"likes",label:"favorites",class:"col-sm col-md-3 q-py-sm",style:{"background-color":"#00e0ff",opacity:"1"}})]),_:1})])]),t(R)]}),_:1}),t(te)]),_:1},8,["style"])}}};var Ke=V(Se,[["__scopeId","data-v-ba1a4d08"]]);export{Ke as default};
