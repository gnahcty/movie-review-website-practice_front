import{m as O,q as w,j as n,k as p,v as s,d as t,t as o,F as b,al as C,s as $,y as u,x as B,ai as v,Q as W,aK as N,aL as P,am as T,aJ as V,u as I,Z as k,o as j,af as y,aN as Q,aO as q}from"./index.41ebcf44.js";import{Q as H,a as x}from"./QItemLabel.28cb7de0.js";import{N as X,a as A,S as E}from"./grid.45f9460d.js";import{C as R}from"./CardStack.34879b23.js";import{u as F}from"./checkLogin.3872f0d9.js";import"./use-quasar.66b5834f.js";const K={class:"row items-center h100 w100"},U=s("div",{class:"col-1 relative"},[s("div",{class:"swiper-button-prev swiper-prev",id:"swiper-prev",style:{top:"auto !important"}})],-1),z={class:"col-10"},D={class:"col-8"},G=["src"],J={key:1,class:"h100 w100 bg-grey rounded15",style:{border:"5px solid grey"}},M={class:"col-auto"},Z=["src"],Y={class:"text-h6 q-pl-md"},ss={class:"col flex justify-end items-center"},es=s("div",{class:"col-1 relative"},[s("div",{class:"swiper-button-next swiper-next",id:"swiper-next",style:{top:"auto !important"}})],-1),S={__name:"ListSwiper",props:{list:{type:Array,default:()=>[]},swiperOptions:{type:Object,default:()=>({slidesPerView:1,spaceBetween:10,loop:!0,navigation:{prevEl:".swiper-prev",nextEl:".swiper-next"},modules:[X],breakpoints:{768:{slidesPerView:2,spaceBetween:20},1128:{slidesPerView:3,spaceBetween:20},1620:{slidesPerView:3,spaceBetween:30}}})},cardStackOptions:{type:Object,default:()=>({cardWidth:233,stackWidth:"100%",cardHeight:345,maxCards:4,paddingX:10})}},emits:["like"],setup(i,{emit:m}){const a=i,{loginTryCatch:r}=F(),l=O(),_=async d=>{await T.post("/lists/like",{id:d}),m("like")};return(d,h)=>{const c=w("RouterLink"),g=w("router-link");return n(),p("div",K,[U,s("div",z,[t(u(E),N(P(a.swiperOptions)),{default:o(()=>[(n(!0),p(b,null,C(a.list,e=>(n(),$(u(A),{key:e._id,class:"column"},{default:o(()=>[s("div",D,[t(c,{to:`/list/${e._id}`},{default:o(()=>[t(R,{cards:e.films,cardWidth:a.cardStackOptions.cardWidth,stackWidth:a.cardStackOptions.stackWidth,cardHeight:a.cardStackOptions.cardHeight,maxCards:a.cardStackOptions.maxCards,paddingX:a.cardStackOptions.paddingX},{card:o(({card:f})=>[f.poster?(n(),p("img",{key:0,src:`https://image.tmdb.org/t/p/w300/${f.poster}`,class:"h100 rounded15 border5"},null,8,G)):(n(),p("div",J))]),_:2},1032,["cards","cardWidth","stackWidth","cardHeight","maxCards","paddingX"])]),_:2},1032,["to"])]),t(H,{class:"col-4 justify-around q-pl-md-md"},{default:o(()=>[t(x,{lines:"2",class:"title3 lilita"},{default:o(()=>[B(v(e.name),1)]),_:2},1024),t(x,{lines:"1",class:"row q-px-md"},{default:o(()=>[s("span",M,[t(g,{to:`/profile/${e.user.username}/recent`,class:"flex items-center"},{default:o(()=>[s("img",{src:e.user.avatar,class:"round",style:{width:"50px"}},null,8,Z),s("span",Y,v(e.user.username),1)]),_:2},1032,["to"])]),s("span",ss,[t(W,{flat:"",round:"",icon:"favorite",color:e.likes.indexOf(u(l)._id)>-1?"red":"black",onClick:f=>u(r)(()=>_(e._id))},null,8,["color","onClick"]),s("span",null,v(e.likes.length),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},16)]),es])}}};const L=i=>(Q("data-v-19c6fd72"),i=i(),q(),i),ts={class:"section"},as={class:"column"},os=L(()=>s("div",{class:"listTitles col-auto"},"Popular This Week",-1)),is={class:"section"},cs={class:"column"},ns=L(()=>s("div",{class:"listTitles"},"Newly Added",-1)),rs={__name:"TopLists",setup(i){const m={licenseKey:"gplv3-license"},a=I(),r=k([]),l=k([]),_=async()=>{const{data:c}=await y.get("/lists/pop");r.splice(0,r.length,...c.results)},d=async()=>{const{data:c}=await y.get("/lists/new");l.splice(0,l.length,...c.results)},h=()=>{_(),d()};return j(async()=>{await _(),await d(),a.isLoading=!1}),(c,g)=>{const e=w("full-page");return n(),p("div",null,[t(e,{ref:"fullpage",options:m,id:"fullpage"},{default:o(()=>[s("div",ts,[s("div",as,[os,t(S,{list:r,onLike:h,class:"col"},null,8,["list"])])]),s("div",is,[s("div",cs,[ns,t(S,{list:l,onLike:h,class:"col"},null,8,["list"])])])]),_:1},512)])}}};var hs=V(rs,[["__scopeId","data-v-19c6fd72"]]);export{hs as default};
