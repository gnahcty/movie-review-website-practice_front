import{Q as f,a as v,_ as h}from"./FilmCard.992feaf8.js";import{u as w,n as g,r as p,o as y,j as o,k as a,v as r,d as i,t as m,aj as x,ap as L,F as j,ao as k,aM as S,aN as B}from"./index.0dc9be6b.js";import"./scroll.2583b80e.js";import"./QItem.cc23ec7f.js";import"./use-dark.7513bcde.js";import"./QMenu.12906604.js";import"./position-engine.dcd3c880.js";import"./use-timeout.b9c8c8b8.js";import"./QList.4f2f3307.js";import"./QTooltip.e1859b02.js";import"./QImg.c521133c.js";import"./ClosePopup.59c6d83e.js";import"./QCard.a71f91d8.js";import"./QInput.b9966d6f.js";import"./use-key-composition.7f9a1d91.js";import"./uid.42677368.js";import"./use-form.fb4c7786.js";import"./QCardSection.2187735b.js";import"./use-quasar.5d4d05ef.js";import"./checkLogin.cb56bad6.js";const M={class:"row justify-center"},N={class:"col-8"},Q={class:"row"},R={class:"row justify-center q-my-md"},Y={__name:"SearchList",setup(z){const u=w(),d=g(),c=p([]),n=p(1),l=async()=>{try{const{data:t}=await x.post("/films/search/",{title:d.params.title,page:n.value}),s=t.results.results,e=await L.post("/reviews/user",[...s]);c.value.push(...e.data.films)}catch(t){console.log(t)}},_=(t,s)=>{setTimeout(()=>{n.value++,l(),s()},1e3)};return y(async()=>{await l(),u.isLoading=!1}),(t,s)=>(o(),a("div",M,[r("div",N,[i(f,{onLoad:_,offset:250},{loading:m(()=>[r("div",R,[i(v,{color:"primary",size:"40px"})])]),default:m(()=>[r("div",Q,[(o(!0),a(j,null,k(c.value,e=>(o(),a("div",{class:"col-6 col-sm-6 col-md-4 col-lg-3 flex flex-center",key:e.id,style:{"align-content":"flex-start"}},[i(h,S(B(e)),null,16)]))),128))])]),_:1})])]))}};export{Y as default};
