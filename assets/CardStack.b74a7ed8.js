import{_ as x,a0 as _,r as y,w as W,c as h,o as w,a as b,j as f,k as m,v as C,F as z,ao as N,z as k,l as $,H as S}from"./index.11ebd11c.js";const X=(r,t,e)=>{let a;return function(){const i=this,c=arguments,u=function(){a=null,e||r.apply(i,c)},p=e&&!a;clearTimeout(a),a=setTimeout(u,t),p&&r.apply(i,c)}};const P={__name:"CardStack",props:{cards:{type:Array,default:()=>[]},cardWidth:{type:Number,default:()=>300},cardHeight:{type:Number,default:()=>400},stackWidth:{type:[Number,String],default:()=>null},maxCards:{type:Number,default:()=>10},paddingX:{type:Number,default:()=>20},paddingY:{type:Number,default:()=>20}},setup(r){const t=r,e=_([]),a=y(null),l=y(0),i=W(()=>t.cards.length,(d,s)=>{s===0&&(c(),i(),o())});function c(){e.splice(0,e.length-1,...Array.from({length:t.maxCards},(d,s)=>({...t.cards[s]||{},display:s<t.maxCards?"block":"none",xPos:t.paddingX+g.value*s,yPos:t.paddingY,width:t.cardWidth,height:t.cardHeight,zIndex:t.maxCards-s})).reverse())}const u=h(()=>{if(t.stackWidth){if(typeof t.stackWidth=="number")return`${t.stackWidth}px`}else return`${t.cardWidth+t.paddingX*2}px`;return t.stackWidth}),p=h(()=>{if(t.stackWidth){if(typeof t.stackWidth=="number")return t.stackWidth}else return t.cardWidth+t.paddingX*2;return l.value||a.value.clientWidth}),g=h(()=>(p.value-t.paddingX*2-t.cardWidth)/(t.maxCards-1)),o=X(()=>{l.value=a.value.clientWidth,S(()=>{for(const d in e)e[d].xPos=t.paddingX+g.value*d})},250);return w(async()=>{t.cards.length>0&&(i(),c()),window.addEventListener("resize",o),t.cards.length>0&&o()}),b(()=>{window.removeEventListener("resize",o)}),(d,s)=>(f(),m("div",{class:"stack_wrapper",ref_key:"containerRef",ref:a},[C("div",{class:"stack_stack",style:k({height:`${r.cardHeight+r.paddingY*2}px`,width:u.value})},[(f(!0),m(z,null,N(e,(n,v)=>(f(),m("div",{class:"stack_card",key:v,style:k({display:n.display,top:`${n.yPos}px`,width:`${n.width}px`,height:`${n.height}px`,zIndex:n.zIndex,transform:`translate(${n.xPos}px, 0)`})},[$(d.$slots,"card",{card:n},void 0,!0)],4))),128))],4)],512))}};var I=x(P,[["__scopeId","data-v-d60e2958"]]);export{I as C};
