import{Q as f,a as v,_ as h}from"./FilmCard.a6844cd5.js";import{u as w,n as g,r as m,o as y,j as o,k as a,v as r,d as i,t as p,af as x,am as L,F as k,al as S,aK as j,aL as B}from"./index.41ebcf44.js";import"./scroll.a7a5ba3b.js";import"./QItem.7fd5a40a.js";import"./use-dark.bb245855.js";import"./QMenu.aa415c4d.js";import"./position-engine.06a14c74.js";import"./use-timeout.d53a31c9.js";import"./QList.6b0a790d.js";import"./QTooltip.413bc218.js";import"./QImg.8353c75d.js";import"./ClosePopup.51e90440.js";import"./QCard.0e8d47b1.js";import"./QInput.7eda67a5.js";import"./use-key-composition.befea7ca.js";import"./uid.42677368.js";import"./use-form.a2dd561e.js";import"./QCardSection.2f9e2c7c.js";import"./use-quasar.66b5834f.js";import"./checkLogin.3872f0d9.js";const Q={class:"row justify-center"},R={class:"col-8"},z={class:"row"},F={class:"row justify-center q-my-md"},Y={__name:"SearchList",setup(M){const u=w(),d=g(),c=m([]),n=m(1),l=async()=>{try{const{data:t}=await x.post("/films/search/",{title:d.params.title,page:n.value}),s=t.results.results,e=await L.post("/reviews/user",[...s]);c.value.push(...e.data.films)}catch(t){console.log(t)}},_=(t,s)=>{setTimeout(()=>{n.value++,l(),s()},1e3)};return y(async()=>{await l(),u.isLoading=!1}),(t,s)=>(o(),a("div",Q,[r("div",R,[i(f,{onLoad:_,offset:250},{loading:p(()=>[r("div",F,[i(v,{color:"primary",size:"40px"})])]),default:p(()=>[r("div",z,[(o(!0),a(k,null,S(c.value,e=>(o(),a("div",{class:"col-6 col-sm-6 col-md-4 col-lg-3 flex flex-center",key:e.id,style:{"align-content":"flex-start"}},[i(h,j(B(e)),null,16)]))),128))])]),_:1})])]))}};export{Y as default};
