import{am as U,w as S,an as _,o as E,g as F,A as T,ao as h,r as q,a as G,D as j,h as I,ap as R,aq as N,ar as O,c as A,a3 as C,C as k,a7 as H}from"./index.3bc22c38.js";let f=[],v=[];function Q(e){v=v.filter(o=>o!==e)}function y(e){Q(e),v.push(e)}function D(e){Q(e),v.length===0&&f.length!==0&&(f[f.length-1](),f=[])}function z(e){v.length===0?e():f.push(e)}function J(e){f=f.filter(o=>o!==e)}function K(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),U.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const X={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Y=["beforeShow","show","beforeHide","hide"];function Z({showing:e,canShow:o,hideOnRouteChange:n,handleShow:l,handleHide:a,processOnMount:c}){const r=F(),{props:i,emit:s,proxy:g}=r;let u;function m(t){e.value===!0?b(t):p(t)}function p(t){if(i.disable===!0||t!==void 0&&t.qAnchorHandled===!0||o!==void 0&&o(t)!==!0)return;const d=i["onUpdate:modelValue"]!==void 0;d===!0&&(s("update:modelValue",!0),u=t,T(()=>{u===t&&(u=void 0)})),(i.modelValue===null||d===!1)&&$(t)}function $(t){e.value!==!0&&(e.value=!0,s("beforeShow",t),l!==void 0?l(t):s("show",t))}function b(t){if(i.disable===!0)return;const d=i["onUpdate:modelValue"]!==void 0;d===!0&&(s("update:modelValue",!1),u=t,T(()=>{u===t&&(u=void 0)})),(i.modelValue===null||d===!1)&&w(t)}function w(t){e.value!==!1&&(e.value=!1,s("beforeHide",t),a!==void 0?a(t):s("hide",t))}function V(t){i.disable===!0&&t===!0?i["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):t===!0!==e.value&&(t===!0?$:w)(u)}S(()=>i.modelValue,V),n!==void 0&&_(r)===!0&&S(()=>g.$route.fullPath,()=>{n.value===!0&&e.value===!0&&b()}),c===!0&&E(()=>{V(i.modelValue)});const M={show:p,hide:b,toggle:m};return Object.assign(g,M),M}const P=[];function x(e){return P.find(o=>o.contentEl!==null&&o.contentEl.contains(e))}function B(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return h(e)}else if(e.__qPortal===!0){const n=h(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(o),n):e}e=h(e)}while(e!=null)}function ee(e,o,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=B(e,o);continue}e.hide(o)}e=h(e)}}function W(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function te(e,o,n,l){const a=q(!1),c=q(!1);let r=null;const i={},s=l==="dialog"&&W(e);function g(m){if(m===!0){D(i),c.value=!0;return}c.value=!1,a.value===!1&&(s===!1&&r===null&&(r=N(!1,l)),a.value=!0,P.push(e.proxy),y(i))}function u(m){if(c.value=!1,m!==!0)return;D(i),a.value=!1;const p=P.indexOf(e.proxy);p!==-1&&P.splice(p,1),r!==null&&(O(r),r=null)}return G(()=>{u(!0)}),e.proxy.__qPortal=!0,j(e.proxy,"contentEl",()=>o.value),{showPortal:g,hidePortal:u,portalIsActive:a,portalIsAccessible:c,renderPortal:()=>s===!0?n():a.value===!0?[I(R,{to:r},n())]:void 0}}const oe={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ne(e,o=()=>{},n=()=>{}){return{transitionProps:A(()=>{const l=`q-transition--${e.transitionShow||o()}`,a=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:A(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function le(){let e;const o=F();function n(){e=void 0}return C(n),k(n),{removeTick:n,registerTick(l){e=l,T(()=>{e===l&&(H(o)===!1&&e(),e=void 0)})}}}function ae(){let e=null;const o=F();function n(){e!==null&&(clearTimeout(e),e=null)}return C(n),k(n),{removeTimeout:n,registerTimeout(l,a){n(),H(o)===!1&&(e=setTimeout(l,a))}}}export{z as a,oe as b,Y as c,le as d,ae as e,ne as f,Z as g,te as h,K as i,B as j,x as k,ee as l,P as p,J as r,X as u};
